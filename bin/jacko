#!/usr/bin/env ruby

require 'rubygems'
require 'bundler/setup'
require 'commander/import'

program :name, 'Jacko-cli'
program :version, '0.1.0'
program :description, 'Factory worker with attitude'

default_command :prompt

command :prompt do |c|
  c.syntax = 'jacko'
  c.description = 'jacko default prompt'
  c.action do

    welcome_message
    choose do |menu|
      menu.prompt = 'How can I help you?'
      menu.choice('New Build') do
        new_build
      end
      menu.choice('Rebuild Implementation') do
      end
      menu.choice('New Release') do
      end
    end

  end
end

# responsible for build
def new_build
  divider
  Dir.entries(root + '/templates').each do |entry|
    next if entry == '.' || entry == '..'
    say entry.gsub('_','.')
  end
end



private

def root
  File.expand_path '../..', __FILE__
end

def welcome_message
  divider
  puts '---------- JACKO - Factory Worker with Attitude ----------'
  divider
end

def divider
  puts '----------------------------------------------------------'
end
