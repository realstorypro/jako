#!/usr/bin/env ruby

require 'rubygems'
require "bundler/setup"
require 'commander/import'

program :name, "Core-cli"
program :version, '0.1.0'
program :description, 'Command line interface for the core framework'

command :create do |c|
		c.syntax = 'core-cli create'
		c.description = 'create a core application'
		c.action do

      puts '-----------------------------------------------'
      puts '----- Radiant9 Node Generation Interface ------'
      speak 'Welcome Commander'
      puts '-----------------------------------------------'

      node_name = ask('Node name: ')
      new_repository = ask('New repository address: ')

      # cloning repository
      system("git clone --bare https://github.com/radiant9/shell.git #{node_name}")
      Dir.chdir node_name
      system("git push --mirror #{new_repository}")
      Dir.chdir '..'
      system("rm -rf #{node_name}")
      system("git clone #{new_repository} #{node_name}")
		end
end

command :setup do |c|
  c.syntax = 'core-cli setup'
  c.description = 'sets up new application'
  c.action do
    puts 'setting up the node'
  end
end
