#!/usr/bin/env ruby

require 'rubygems'
require 'bundler/setup'
require 'commander/import'

program :name, 'Core-cli'
program :version, '0.1.0'
program :description, 'Narcissistic command line interface for Genesis'

command :new do |c|
  c.syntax = 'core new'
  c.description = 'new genesis implementation'
  c.action do

    welcome_message
    speak 'What do you want?'

    choose do |menu|
      menu.prompt = 'What do you want?'
      menu.choice('Setup new implementation') do
        say 'fine ...'
        speak 'fine, new it is'
      end
      menu.choice('Upgrade existing implementation') do
        say 'fine ...'
        speak 'fine, new it is'
      end
    end

    #node_name = ask('Node name: ')
    #new_repository = ask('New repository address: ')
  end
end

command :setup do |c|
  c.syntax = 'core-cli setup'
  c.description = 'setup for new genesis implementation'
  c.action do

    speak 'Genesis Setup Initiated'

    # system('bundle')
    # system('rake core:install:gemfile')
    # system('rake core:install:requirejs')
    # system('rake core:install:uploadcare')
    # system('rake core:install:migrations')
    # system('bundle')
    # system('rake db:create')
    # system('rake db:migrate')

  end
end

def welcome_message
  puts '----------------------------------------------------------'
  puts '------- CORE - Narcissistic Command Line Interface -------'
  puts '----------------------------------------------------------'
end
